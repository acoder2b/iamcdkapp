account_id:
- '118575936588'
region: us-east-1
stack_name: iam-role-policies-pipeline-stack-Part1
iam_policies: []
roles:
-   roleName: IsengardRoleForDependencyAssuranceIamAnalyzer
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: depndency-insights-prod.aws.internal
                AWS:
                - arn:aws:iam::796293252539:root
                - arn:aws:iam::089414261608:root
                - arn:aws:iam::611447770337:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: DependencyAssuranceIamAnalyzerTrustedServicev0y7hI9piuvk
    inlinePolicies:
        DependencyAssuranceIamAnalyzerTrustedServicePolicy:
            Version: '2012-10-17'
            Statement:
            -   Sid: DependencyAssuranceIAMAnalyzer
                Effect: Allow
                Action:
                - iam:GetAccountAuthorizationDetails
                Resource: '*'
-   roleName: IsengardRoleForOptInComputeOptimizer
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: compute-optimizer.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: AWSComputeOptimizerTAIcxvPZruw6
    inlinePolicies:
        AWSComputeOptimizerAccessPolicy:
            Version: '2012-10-17'
            Statement:
            -   Effect: Allow
                Action: iam:CreateServiceLinkedRole
                Resource: arn:aws:iam::*:role/aws-service-role/compute-optimizer.amazonaws.com/AWSServiceRoleForComputeOptimizer*
                Condition:
                    StringLike:
                        iam:AWSServiceName: compute-optimizer.amazonaws.com
            -   Effect: Allow
                Action: iam:PutRolePolicy
                Resource: arn:aws:iam::*:role/aws-service-role/compute-optimizer.amazonaws.com/AWSServiceRoleForComputeOptimizer
            -   Effect: Allow
                Action: compute-optimizer:UpdateEnrollmentStatus
                Resource: '*'
-   roleName: NawsApplicationMetrics-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: prod.nawsmetrics.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: NawsApplicationMetrics-DO-NOT-DELETEl1qUIQsyizgO
    inlinePolicies:
        NAWSApplicationMetricsPolicy:
            Version: '2012-10-17'
            Statement:
            -   Effect: Allow
                Action: apigateway:GET
                Resource:
                - arn:aws:apigateway:*::/apis
                - arn:aws:apigateway:*::/apis/*
                - arn:aws:apigateway:*::/apis/*/integrations/*
                - arn:aws:apigateway:*::/restapis
                - arn:aws:apigateway:*::/restapis/*
                - arn:aws:apigateway:*::/restapis/*/resources
                - arn:aws:apigateway:*::/restapis/*/resources/*
                - arn:aws:apigateway:*::/restapis/*/resources/*/methods/*/integration
                - arn:aws:apigateway:*::/restapis/*/stages
            -   Effect: Allow
                Action:
                - acm:DescribeCertificate
                - acm:ListCertificates
                - autoscaling:DescribeAutoScalingGroups
                - autoscaling:DescribeLaunchConfigurations
                - cloudformation:ListStackResources
                - cloudwatch:DescribeAlarms
                - cloudwatch:ListDashboards
                - codedeploy:GetApplication
                - codedeploy:GetDeploymentConfig
                - codedeploy:GetDeploymentGroup
                - codedeploy:ListApplications
                - codedeploy:ListDeploymentGroups
                - ec2:DescribeFleets
                - ec2:DescribeImages
                - ec2:DescribeInstances
                - ec2:DescribeVpcAttribute
                - ec2:DescribeVpcEndpointConnections
                - ec2:DescribeVpcEndpointServices
                - ec2:DescribeVpcEndpoints
                - ec2:DescribeVpcPeeringConnections
                - ec2:DescribeVpcs
                - ecs:DescribeClusters
                - ecs:DescribeContainerInstances
                - ecs:DescribeServices
                - ecs:DescribeTaskDefinition
                - ecs:DescribeTasks
                - ecs:ListClusters
                - ecs:ListContainerInstances
                - ecs:ListServices
                - eks:DescribeCluster
                - eks:DescribeFargateProfile
                - eks:DescribeNodegroup
                - eks:ListClusters
                - eks:ListFargateProfiles
                - eks:ListNodegroups
                - elasticloadbalancing:DescribeLoadBalancers
                - elasticloadbalancing:DescribeTargetGroups
                - iam:GetServerCertificate
                - iam:ListServerCertificates
                - lambda:GetEventSourceMapping
                - lambda:GetFunctionConfiguration
                - lambda:ListEventSourceMappings
                - logs:DescribeLogGroups
                Resource: '*'
-   roleName: OrthancRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service:
                - prod.stronghold.orthanc.epoxy.aws.internal
                - prod.sentry.orthanc.epoxy.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: OrthancRolemaPKsX3C4r8H
    managedPolicies:
    - arn:aws:iam::aws:policy/AmazonGuardDutyFullAccess
    inlinePolicies:
        AmazonGuardDutyFullAccess:
            Version: '2012-10-17'
            Statement:
            -   Effect: Allow
                Action:
                - ec2:DescribeRegions
                Resource: '*'
            -   Effect: Allow
                Action:
                - events:DescribeRule
                - events:ListTargetsByRule
                Resource: arn:aws:events:*:*:rule/AwsSecurityNacundaAuditFindings-DO-NOT-DELETE
-   roleName: PipelineStack-TelusShSecurityAcmProvisioningStackte-3GgllA1czIHr
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                AWS: arn:aws:iam::118575936588:root
            Action: sts:AssumeRole
            Condition: {}
-   roleName: ResourceConfigurationCollector-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service:
                - me-south-1.prod.rcc.aws.internal
                - prod.rcc.aws.internal
                - ap-east-1.prod.rcc.aws.internal
                - af-south-1.prod.rcc.aws.internal
                - eu-south-1.prod.rcc.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: ResourceConfigurationCollector7kgvEKUpTgn5
-   roleName: SaltyTrustedService
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: prod.salty.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: SaltyTrustedServicennQRR17x4fNS
    inlinePolicies:
        SaltyTrustedServicePolicy:
            Version: '2012-10-17'
            Statement:
            -   Action:
                - ec2:DescribeInstances
                Effect: Allow
                Resource: '*'
-   roleName: ShadowTrooperRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: prod.shadowtrooper.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: ShadowTrooperRole6z09FsdKdpS1
    inlinePolicies:
        ShadowTrooperPolicy-prod:
            Version: '2012-10-17'
            Statement:
            -   Effect: Allow
                Action:
                - cloudtrail:Get*
                - cloudtrail:Describe*
                - cloudtrail:List*
                - cloudtrail:LookupEvents
                - autoscaling:Describe*
                - cloudwatch:Describe*
                - cloudwatch:Get*
                - cloudwatch:List*
                - ec2:AuthorizeSecurityGroupEgress
                - ec2:AuthorizeSecurityGroupIngress
                - ec2:CreateSecurityGroup
                - ec2:DeleteNatGateway
                - ec2:DescribeIamInstanceProfileAssociations
                - ec2:DescribeImages
                - ec2:DescribeInstances
                - ec2:DescribeNetworkInterfaceAttribute
                - ec2:DescribeNetworkInterfaces
                - ec2:DescribeRegions
                - ec2:DescribeSecurityGroups
                - ec2:DescribeSubnets
                - ec2:DescribeTaskDefinition
                - ec2:DescribeTasks
                - ec2:ModifyInstanceAttribute
                - ec2:ModifyNetworkInterfaceAttribute
                - ec2:RevokeSecurityGroupEgress
                - ec2:RevokeSecurityGroupIngress
                - ec2:StopInstances
                - ecs:DescribeTaskDefinition
                - ecs:DescribeTasks
                - ecs:ListClusters
                - ecs:ListTaskDefinitions
                - ecs:ListTasks
                - ecs:StopTask
                - ecs:UpdateService
                - elasticmapreduce:DescribeCluster
                - elasticmapreduce:GetManagedScalingPolicy
                - elasticmapreduce:ListClusters
                - elasticmapreduce:ListInstances
                - elasticmapreduce:RemoveAutoScalingPolicy
                - elasticmapreduce:RemoveAutoTerminationPolicy
                - elasticmapreduce:RemoveManagedScalingPolicy
                - iam:GetInstanceProfile
                - iam:GetRole
                - iam:ListAccessKeys
                - iam:ListUsers
                - iam:PutRolePolicy
                - iam:PutUserPolicy
                - iam:UpdateAccessKey
                - iam:UpdateAssumeRolePolicy
                - lightsail:CloseInstancePublicPorts
                - lightsail:GetInstance
                - lightsail:StopInstance
                - logs:Get*
                - logs:List*
                - logs:StartQuery
                - logs:StopQuery
                - logs:Describe*
                - logs:TestMetricFilter
                - logs:FilterLogEvents
                - logs:StartLiveTail
                - logs:StopLiveTail
                - oam:ListSinks
                - rds:DescribeDBInstances
                - rds:ModifyDBInstance
                - s3:PutAccountPublicAccessBlock
                - s3:PutBucketPublicAccessBlock
                - secretsmanager:GetResourcePolicy
                - secretsmanager:PutResourcePolicy
                - ses:DescribeReceiptRuleSet
                - ses:UpdateReceiptRule
                - sns:Get*
                - sns:List*
                - workspaces:DescribeWorkspaces
                - workspaces:ModifyWorkspaceProperties
                - workspaces:ModifyWorkspaceState
                - workspaces:StopWorkspaces
                Resource: '*'
-   roleName: StackSet-AWSControlTowerGuardHook-373-ExecutionRole-dfDV3mPSuPao
    deletionPolicy: RETAIN
    sessionDuration: 8400
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ExecutionRoleAssumeRolePolicyDocumentJ4xzc6hBez
            Effect: Allow
            Principal:
                Service:
                - resources.cloudformation.amazonaws.com
                - hooks.cloudformation.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    aws:SourceAccount: '118575936588'
                StringLike:
                    aws:SourceArn: arn:aws:cloudformation:eu-central-1:118575936588:type/hook/ControlTower-Guard-Hook/*
    inlinePolicies:
        HookTypePolicy:
            Version: '2012-10-17'
            Statement:
            -   Action: '*'
                Resource: '*'
                Effect: Deny
                Sid: ExecutionRoleDenyPolicyJ4xzc6hBez
-   roleName: StackSet-AWSControlTowerGuardHook-373aab98--LogRole-ObzTQ545p6kJ
    deletionPolicy: RETAIN
    sessionDuration: 8400
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: LogRoleAssumeRolePolicyDocumentJ4xzc6hBez
            Effect: Allow
            Principal:
                Service:
                - hooks.cloudformation.amazonaws.com
                - resources.cloudformation.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    aws:SourceAccount: '118575936588'
                StringLike:
                    aws:SourceArn: arn:aws:cloudformation:eu-central-1:118575936588:type/hook/ControlTower-Guard-Hook/*
    inlinePolicies:
        HookTypePolicy:
            Version: '2012-10-17'
            Statement:
            -   Action:
                - logs:CreateLogStream
                - logs:PutLogEvents
                - logs:DescribeLogGroups
                - logs:DescribeLogStreams
                Resource: '*'
                Effect: Allow
                Sid: LogsAllowPolicyJ4xzc6hBez
            -   Action:
                - cloudwatch:PutMetricData
                Resource: '*'
                Effect: Allow
                Sid: CloudWatchAllowPolicyJ4xzc6hBez
            -   Action:
                - logs:CreateLogGroup
                - logs:DeleteLogGroup
                - logs:UpdateLogGroup
                Resource: '*'
                Effect: Deny
                Sid: LogRoleDenyPolicyJ4xzc6hBez
-   roleName: StackSet-AWSControlTowerGuardHook-624-ExecutionRole-LIOG6AzWGwwc
    deletionPolicy: RETAIN
    sessionDuration: 8400
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ExecutionRoleAssumeRolePolicyDocumentJ4xzc6hBez
            Effect: Allow
            Principal:
                Service:
                - hooks.cloudformation.amazonaws.com
                - resources.cloudformation.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    aws:SourceAccount: '118575936588'
                StringLike:
                    aws:SourceArn: arn:aws:cloudformation:us-east-2:118575936588:type/hook/ControlTower-Guard-Hook/*
    inlinePolicies:
        HookTypePolicy:
            Version: '2012-10-17'
            Statement:
            -   Action: '*'
                Resource: '*'
                Effect: Deny
                Sid: ExecutionRoleDenyPolicyJ4xzc6hBez
-   roleName: StackSet-AWSControlTowerGuardHook-6240da8f--LogRole-MwxWsNYiDEkR
    deletionPolicy: RETAIN
    sessionDuration: 8400
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: LogRoleAssumeRolePolicyDocumentJ4xzc6hBez
            Effect: Allow
            Principal:
                Service:
                - hooks.cloudformation.amazonaws.com
                - resources.cloudformation.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    aws:SourceAccount: '118575936588'
                StringLike:
                    aws:SourceArn: arn:aws:cloudformation:us-east-2:118575936588:type/hook/ControlTower-Guard-Hook/*
    inlinePolicies:
        HookTypePolicy:
            Version: '2012-10-17'
            Statement:
            -   Action:
                - logs:CreateLogStream
                - logs:PutLogEvents
                - logs:DescribeLogGroups
                - logs:DescribeLogStreams
                Resource: '*'
                Effect: Allow
                Sid: LogsAllowPolicyJ4xzc6hBez
            -   Action:
                - cloudwatch:PutMetricData
                Resource: '*'
                Effect: Allow
                Sid: CloudWatchAllowPolicyJ4xzc6hBez
            -   Action:
                - logs:CreateLogGroup
                - logs:DeleteLogGroup
                - logs:UpdateLogGroup
                Resource: '*'
                Effect: Deny
                Sid: LogRoleDenyPolicyJ4xzc6hBez
-   roleName: StackSet-AWSControlTowerGuardHook-b12-ExecutionRole-Q99pArEG9wGL
    deletionPolicy: RETAIN
    sessionDuration: 8400
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ExecutionRoleAssumeRolePolicyDocumentJ4xzc6hBez
            Effect: Allow
            Principal:
                Service:
                - hooks.cloudformation.amazonaws.com
                - resources.cloudformation.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    aws:SourceAccount: '118575936588'
                StringLike:
                    aws:SourceArn: arn:aws:cloudformation:us-west-2:118575936588:type/hook/ControlTower-Guard-Hook/*
    inlinePolicies:
        HookTypePolicy:
            Version: '2012-10-17'
            Statement:
            -   Action: '*'
                Resource: '*'
                Effect: Deny
                Sid: ExecutionRoleDenyPolicyJ4xzc6hBez
-   roleName: StackSet-AWSControlTowerGuardHook-b123e1a2--LogRole-89HpGIFQ9Jhj
    deletionPolicy: RETAIN
    sessionDuration: 8400
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: LogRoleAssumeRolePolicyDocumentJ4xzc6hBez
            Effect: Allow
            Principal:
                Service:
                - hooks.cloudformation.amazonaws.com
                - resources.cloudformation.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    aws:SourceAccount: '118575936588'
                StringLike:
                    aws:SourceArn: arn:aws:cloudformation:us-west-2:118575936588:type/hook/ControlTower-Guard-Hook/*
    inlinePolicies:
        HookTypePolicy:
            Version: '2012-10-17'
            Statement:
            -   Action:
                - logs:CreateLogStream
                - logs:PutLogEvents
                - logs:DescribeLogGroups
                - logs:DescribeLogStreams
                Resource: '*'
                Effect: Allow
                Sid: LogsAllowPolicyJ4xzc6hBez
            -   Action:
                - cloudwatch:PutMetricData
                Resource: '*'
                Effect: Allow
                Sid: CloudWatchAllowPolicyJ4xzc6hBez
            -   Action:
                - logs:CreateLogGroup
                - logs:DeleteLogGroup
                - logs:UpdateLogGroup
                Resource: '*'
                Effect: Deny
                Sid: LogRoleDenyPolicyJ4xzc6hBez
-   roleName: stacksets-exec-07747c4a75e4555357cbac8c04dfd877
    deletionPolicy: RETAIN
    description: Role created by AWSCloudFormation StackSets
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Id: stacksets-exec-07747c4a75e4555357cbac8c04dfd877-assume-role-policy
        Statement:
        -   Sid: '1'
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::909180469036:role/aws-service-role/stacksets.cloudformation.amazonaws.com/AWSServiceRoleForCloudFormationStackSetsOrgAdmin
            Action: sts:AssumeRole
    managedPolicies:
    - arn:aws:iam::aws:policy/AdministratorAccess
-   roleName: telus-security-audit-prowler-ecstaskrole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                AWS: arn:aws:iam::118575936588:root
            Action: sts:AssumeRole
            Condition: {}
-   roleName: telus-security-audit-prowler-ecstaskrole1
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                AWS: arn:aws:iam::118575936588:root
            Action: sts:AssumeRole
            Condition: {}
-   roleName: telus-sh-security-iam-publicResourceLambdaExecutionRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                AWS: arn:aws:iam::118575936588:root
            Action: sts:AssumeRole
            Condition: {}
-   roleName: telus-sh-security-iamrole-lambda_kms_quicksight_execution_role
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                AWS: arn:aws:iam::118575936588:root
            Action: sts:AssumeRole
            Condition: {}
-   roleName: testcrossaccountrole
    deletionPolicy: RETAIN
    description: testcrossaccountrole
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                AWS: arn:aws:iam::118575936588:root
            Action: sts:AssumeRole
            Condition: {}
    tags:
    -   key: environment
        value: dev
    managedPolicies:
    - arn:aws:iam::aws:policy/AdministratorAccess
-   roleName: testcrossaccountrole112212
    deletionPolicy: RETAIN
    description: testcrossaccountrole
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                AWS: arn:aws:iam::118575936588:root
            Action: sts:AssumeRole
            Condition: {}
    tags:
    -   key: environment
        value: dev
    managedPolicies:
    - arn:aws:iam::aws:policy/AdministratorAccess
-   roleName: TurtleRoleManagement
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service:
                - prod.webui.turtle.aws.internal
                - in-amazon-1.prod.webui.turtle.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: TurtleRoleManagement5S6eLMgn95ye
    inlinePolicies:
        TurtleRoleManagementPolicy:
            Version: '2012-10-17'
            Statement:
            -   Action:
                - iam:GetRole
                - iam:GenerateServiceLastAccessedDetails
                - iam:GetServiceLastAccessedDetails
                Effect: Allow
                Resource: '*'
-   roleName: XenaAuditorRole-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::691002153696:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: XenaAuditorRolel3k6LOmkdM3u
    managedPolicies:
    - arn:aws:iam::aws:policy/SecurityAudit
