account_id: 
  - "596905249077"
  - "482205423380"
  - "443253904861"
region: "us-east-1"
stack_name: iampipeline-stack

roles:
  - roleName: test-sh-security-iamrole-breakglassTEST11
    description: "TELUS IAM Role for BreakGlass Access"
    sessionDuration: 28800
    iamPath: /breakglass/
    trustPolicy:
      Version: "2012-10-17"
      Statement:
        - Effect: Allow
          Principal:
            Service:
              - sns.amazonaws.com
            AWS:
              - "arn:aws:iam::443253904861:role/service-role/AmazonSageMakerServiceCatalogProductsLaunchRole"
          Action: sts:AssumeRole
          Condition:
            Bool:
              aws:MultiFactorAuthPresent: "true"
    externalIds:
      - "1234567890"
    managedPolicies:
      - arn:aws:iam::aws:policy/AdministratorAccess
    # inlinePolicies:
    permissionBoundary: arn:aws:iam::aws:policy/AdministratorAccess
    tags:
      - key: testkey
        value: testtag1
      - key: testkey1
        value: testtag11
      - key: testkey12
        value: testtag112        

iam_policies:
  - policyName: CustomPolicy2
    policyDocument:
      Version: '2012-10-17'
      Statement:
      - Sid: VisualEditor0
        Effect: Allow
        Action: iam:*
        Resource: "*"
      - Sid: VisualEditor1
        Effect: Allow
        Action: lambda:*
        Resource: "*"
        Condition:
          StringEquals:
            aws:PrincipalTag/test: test
          Bool:
            aws:ViaAWSService: 'true'
