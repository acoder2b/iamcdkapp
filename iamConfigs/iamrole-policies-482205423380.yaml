account_id:
- '482205423380'
region: us-east-1
stack_name: iam-role-policies-pipeline-stack
iam_policies:
-   policyName: EC2CapacityReservationService
    deletionPolicy: RETAIN
    policyDocument:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Action:
            - ec2:DescribeReservedInstances
            - ec2:ModifyReservedInstances
            - ec2:PurchaseReservedInstancesOffering
            - ec2:DescribeInstances
            - ec2:DescribeAvailabilityZones
            - ec2:DescribeReservedInstancesOfferings
            Resource: '*'
    path: /
-   policyName: ConfigAccessPolicy
    deletionPolicy: RETAIN
    policyDocument:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Action:
            - s3:CreateBucket
            - s3:DeleteBucket
            - s3:PutBucketPolicy
            - s3:PutPublicAccessBlock
            - s3:GetPublicAccessBlock
            Resource: arn:aws:s3:::config-bucket-trustedservice-do-not-delete-*
        -   Effect: Allow
            Action:
            - s3:ListAllMyBuckets
            Resource: arn:aws:s3:::*
        -   Effect: Allow
            Action:
            - config:*
            Resource: '*'
        -   Effect: Allow
            Action:
            - iam:GetRole
            - iam:PassRole
            - iam:CreateServiceLinkedRole
            - iam:DeleteServiceLinkedRole
            - iam:GetServiceLinkedRoleDeletionStatus
            Resource: arn:aws:iam::*:role/aws-service-role/config.amazonaws.com/*
    path: /
-   policyName: ResourceConfigurationCollectorPolicy
    deletionPolicy: RETAIN
    policyDocument:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Action:
            - s3:CreateBucket
            - s3:PutBucketPolicy
            Resource: arn:aws:s3:::rcc-bucket-trustedservice-do-not-delete-*
        -   Effect: Allow
            Action:
            - s3:ListAllMyBuckets
            - s3:GetBucketPolicyStatus
            - s3:GetBucketPublicAccessBlock
            - s3:PutBucketPublicAccessBlock
            Resource: arn:aws:s3:::*
        -   Effect: Allow
            Action:
            - config:DescribeConfigurationRecorders
            - config:DescribeConfigurationRecorderStatus
            - config:PutConfigurationRecorder
            - config:StartConfigurationRecorder
            - config:DescribeDeliveryChannels
            - config:DescribeDeliveryChannelStatus
            - config:PutDeliveryChannel
            - config:DescribeAggregationAuthorizations
            - config:PutAggregationAuthorization
            - config:ListDiscoveredResources
            - config:BatchGetResourceConfig
            Resource: '*'
        -   Effect: Allow
            Action:
            - iam:GetRole
            - iam:PassRole
            - iam:CreateServiceLinkedRole
            - iam:DeleteServiceLinkedRole
            - iam:GetServiceLinkedRoleDeletionStatus
            Resource: arn:aws:iam::*:role/aws-service-role/config.amazonaws.com/*
    path: /
roles:
-   roleName: AccessAnalyzerTrustedService
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::121925031476:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: AccessAnalyzerTrustedServiceL6sfV33FSUkh
-   roleName: Admin
    deletionPolicy: RETAIN
    sessionDuration: 43200
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::727820809195:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: IsengardExternalIddZasuwJ7wk5Y
-   roleName: AVMContainersUserRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::214732530209:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: InspectorEnablementRolezwE5MFbH8tKI
-   roleName: AWS-QuickSetup-EnableCRecording-62d8q_us-east-2
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                Service: ssm.amazonaws.com
            Action: sts:AssumeRole
    tags:
    -   key: QuickSetupVersion
        value: '1.3'
    -   key: QuickSetupType
        value: Config Recording
    -   key: QuickSetupID
        value: 62d8q
-   roleName: AWS-QuickSetup-EnableCRecording-62d8q_us-west-2
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                Service: ssm.amazonaws.com
            Action: sts:AssumeRole
    tags:
    -   key: QuickSetupVersion
        value: '1.3'
    -   key: QuickSetupType
        value: Config Recording
    -   key: QuickSetupID
        value: 62d8q
-   roleName: awslogs.prod.kelex.molecule.toppatterns
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: molecule-recommendations.cloudwatchlogs.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: KelexDataFetcherbmnVsScLAnsA
-   roleName: AwsSecurityAudit
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::877377650033:root
                Service: palisade.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: AwsSecurityAuditwd5uYBiUVOFo
-   roleName: AwsSecurityNacundaAudit
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::350429083849:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: AwsSecurityNacundaAudit1BfAJ4pIyThA
-   roleName: AWSVAPTAudit
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::821027173227:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: AWSVAPTAuditOsvLd3Ff3dHd
-   roleName: CloudSecAuditRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: secops.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: CloudSecAuditRoleFRg99w8DfucA
-   roleName: CloudSeerTrustedServiceRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS:
                - arn:aws:iam::533267069473:root
                - arn:aws:iam::637423399230:root
                - arn:aws:iam::333692317655:root
                - arn:aws:iam::381492016180:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: CloudSeerTrustedServiceRoleCSruAIm6Y7Lz
-   roleName: CodeGuruProfilerForwardToAmazonProfiler
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: codeguru-profiler-publisher.aws.internal
                AWS: arn:aws:iam::054693081941:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: CodeGuruProfilerPublisherXJQrjdtVAlTs
-   roleName: DiscoveryAnalyzerTrustedService-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::090111104127:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: DiscoveryAnalyzerTrustedService-DO-NOT-DELETEbASmhNwnFGYQ
-   roleName: EC2CapacityReservationService
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: crs.ec2.aws.internal
                AWS: arn:aws:iam::950184135563:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: EC2CapacityReservationServicecIrmbEonrvmv
-   roleName: GatedGardenAudit
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::638951966944:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: GatedGardenAudit9RBarYbOLPvy
-   roleName: GatedGardenInternalAudit
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::222385417670:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: GatedGardenInternalAuditwBhjkQl680cR
-   roleName: IibsAdminAccess-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2008-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS:
                - arn:aws:iam::621463273587:role/BrokerService-Prod
                - arn:aws:iam::048851363556:role/BrokerService-Prod
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: GetSecurityTokenAdmin
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS:
                - arn:aws:iam::621463273587:role/BrokerService-Prod
                - arn:aws:iam::048851363556:role/BrokerService-Prod
            Action:
            - sts:SetSourceIdentity
            - sts:TagSession
-   roleName: IMDSv2-automigrator
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: naws.imds.automigrator.us-east-1.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: IMDSv2-automigratorkghNSEuD6Jfj
-   roleName: InternalAuditInternal
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: internalaudit.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: InternalAuditInternalBSTZza25j0uJ
-   roleName: IsengardAuditorRole-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::727820809195:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: IsengardAuditorExternalIdlRjc8KpGFlTI
-   roleName: IsengardCloudTrailRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::086441151436:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: IsengardCloudTrailRoleakVnnSErkYwU
-   roleName: IsengardConfigRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: config-setup.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: IsengardConfigRole2IA4j6rUGPAB
-   roleName: IsengardRole-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::727820809195:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: IsengardExternalIdg9ZJ4hCOFjIt
-   roleName: IsengardRoleForDependencyAssuranceIamAnalyzer
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: depndency-insights-prod.aws.internal
                AWS:
                - arn:aws:iam::089414261608:root
                - arn:aws:iam::611447770337:root
                - arn:aws:iam::796293252539:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: DependencyAssuranceIamAnalyzerTrustedServiceDjKuUk4MjaAF
-   roleName: IsengardRoleForOptInComputeOptimizer
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: compute-optimizer.amazonaws.com
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: AWSComputeOptimizerkQ59ZBzMQ1LJ
-   roleName: NawsApplicationMetrics-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: prod.nawsmetrics.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: NawsApplicationMetrics-DO-NOT-DELETEk8IdI4qJd1bb
-   roleName: OrthancRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service:
                - prod.sentry.orthanc.epoxy.aws.internal
                - prod.stronghold.orthanc.epoxy.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: OrthancRoleqhPUNreYWMEW
-   roleName: ResourceConfigurationCollector-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service:
                - prod.rcc.aws.internal
                - af-south-1.prod.rcc.aws.internal
                - me-south-1.prod.rcc.aws.internal
                - ap-east-1.prod.rcc.aws.internal
                - eu-south-1.prod.rcc.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: ResourceConfigurationCollectorlwHNslv9Zc2b
-   roleName: SaltyTrustedService
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: prod.salty.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: SaltyTrustedServiceUQxe5bjxr1y1
-   roleName: ShadowTrooperRole
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service: prod.shadowtrooper.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: ShadowTrooperRoleIEGiQe9Qj26X
-   roleName: testrole111
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Effect: Allow
            Principal:
                AWS: arn:aws:iam::482205423380:root
            Action: sts:AssumeRole
            Condition: {}
    permissionBoundary:
        PermissionsBoundaryType: Policy
        PermissionsBoundaryArn: arn:aws:iam::aws:policy/AdministratorAccess
-   roleName: TurtleRoleManagement
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                Service:
                - prod.webui.turtle.aws.internal
                - in-amazon-1.prod.webui.turtle.aws.internal
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: TurtleRoleManagementslMWAiC1mUl7
-   roleName: XenaAuditorRole-DO-NOT-DELETE
    deletionPolicy: RETAIN
    sessionDuration: 3600
    iamPath: /
    trustPolicy:
        Version: '2012-10-17'
        Statement:
        -   Sid: ''
            Effect: Allow
            Principal:
                AWS: arn:aws:iam::691002153696:root
            Action: sts:AssumeRole
            Condition:
                StringEquals:
                    sts:ExternalId: XenaAuditorRoleK1Kn22JfukzA
